<!--
  Nomic Automation System main webpage
  
  Anthony Wilson
  
  2022-4-7
-->



<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Nomic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="./global-styles.css">
    <link rel="stylesheet" type="text/css" href="./input-styles.css">
    <link rel="stylesheet" type="text/css" href="./specific-styles.css">
    
    <meta name="author" content="Anthony Wilson">
    <meta name="description" content="Website for Nomic Season 3">
    
    <link rel="icon" type="image/png" href="./Resources/Favicon128x128.png" sizes="128x128">
    
    <meta property="og:title" content="Nomic Season 3">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://AnthonyW2.github.io/Nomic">
    <meta property="og:image" content="./Resources/OGImage.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="256">
    <meta property="og:image:height" content="256">
    <meta property="og:description" content="Website for Nomic Season 3">
    
  </head>
  <body onload="StartJS()">
    
    <div id="nav-bar">
      <a id="nav-link-site-logo" class="nav-link" href="./">Nomic S3</a>
      
      <a id="nav-link-rules" class="nav-link" href="./Rules">Rules</a>
      
      <a id="nav-link-players" class="nav-link" href="./Players">Players</a>
      
      <a id="nav-link-docs" class="nav-link" href="./docs.html">Docs</a>
      
      <a id="nav-link-propositions" class="nav-link" href="./Propositions">Propositions</a>
      
      <input type="text" id="nav-search" placeholder="Search" title="Search for a location or staff member" onfocus="openSearchMenu()" onfocusout="closeSearchMenu()" onkeyup="updateSearch()">
      <div id="search-menu" hidden></div>
      
      <button id="nav-settings-btn" title="Open/Close the settings menu" onclick="toggleSettingsMenu()" settingsopen="false">
        <div></div>
      </button>
      
    </div>
    
    <div id="main-page-content">
      
      <h1>Nomic Season 3</h1>
      
      <br>
      
      <p>
        <h2>Website</h2>
        
        This website serves two main purposes:
        <ul>
          <li>To be a repository of all information related to this season of Nomic.</li>
          <li>To interact with the automation system (Nomic Bot).</li>
        </ul>
        
        For information about how to use this site or the Discord bot, see the <a href="./docs.html">documentation</a> page.
        
      </p>
      
      <br>
      
      <p>
        <h2>Players</h2>
        
        <div id="players-list">
          Loading players...
        </div>
        
      </p>
      
      <br>
      
      <p>
        <h2>Rules</h2>
        
        Amount of rules: <span id="rule-count">NA</span><br>
        <!--Deleted rules: <span id="rule-count">NA</span><br> -->
        
      </p>
      
      <br>
      
    </div>
    
    
    <script>
      const root = ".";
    </script>
    <script src="./main.js"></script>
    <script src="./search.js"></script>
    <script src="./Rules/rule-class.js"></script>
    <script>
      
      body.addEventListener("ruleload", e => {
        
        document.getElementById("rule-count").innerHTML = rules.getSubruleCount()+1;
        
      });
      
      body.addEventListener("playerload", e => {
        
        var playerListElement = document.getElementById("players-list");
        playerListElement.innerHTML = "";
        
        for(var p = 0;p < players.length;p ++){
          
          var playerLink = document.createElement("a");
          
          playerLink.href = "./Players?p="+p;
          playerLink.innerHTML = players[p].name;
          
          playerListElement.appendChild(playerLink);
          playerListElement.appendChild(document.createElement("br"));
          
        }
        
      });
      
    </script>
    
  </body>
</html>
